<main>
    <h1>Hello {{ userEmail }}'s todos</h1>

    <h2>My todos</h2>
    <div class="input-area">
        <input #todoInput type="text" placeholder="Add a todo"
            (keyup.enter)="addTodo(todoInput.value); todoInput.value = ''" />
        <button (click)="addTodo(todoInput.value); todoInput.value = ''">+ new</button>
        <button (click)="loadTodos()">ðŸ”„ Refresh List</button>
    </div>

    <div *ngIf="loading">Loading todos...</div>

    <ul *ngIf="!loading && todos.length > 0">
        <li *ngFor="let todo of todos">
            <span>{{ todo.content }}</span>
            <button class="delete-btn" (click)="deleteTodo(todo.id)">Delete</button>
        </li>
    </ul>

    <p *ngIf="!loading && todos.length === 0">No todos yet. Add one above!</p>

    <button (click)="signOut()">Sign Out</button>
</main>